(this["webpackJsonpghibli-viewer"]=this["webpackJsonpghibli-viewer"]||[]).push([[0],{63:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(6),r=c(0),i=c(9),s=c.n(i),a=(c(62),c(63),c(13)),j=c(3),l=c(17),d=c.n(l),o=Object(j.d)({name:"faveSlice",initialState:{show:!1,faves:[]},reducers:{open:function(e){e.show=!0},close:function(e){e.show=!1},reset:function(e,t){var c=t.payload,n=Array.from({length:c},(function(e,t){return{id:t,fave:!1}}));e.faves=n},flip:function(e,t){var c,n=t.payload,r=null!==(c=d.a.find(e.faves,{id:n}))&&void 0!==c?c:{id:n,fave:!1};r.fave=!r.fave}}}),b=o.actions,h=b.open,O=b.close,x=b.flip,u=b.reset,m=function(e){return e.faveSlice.show},g=function(e){return e.faveSlice.faves.length},p=function(e){var t=d.a.filter(e.faveSlice.faves,(function(e){return e.fave}));return d.a.map(t,(function(e){return e.id}))},f=o.reducer,v=c(14),w=c(38),y=Object(w.a)({reducerPath:"ghibliApi",baseQuery:Object(v.d)({baseUrl:"https://quote-me-on-ghibli.herokuapp.com"}),endpoints:function(e){return{getMovieById:e.query({query:function(e){return"/movie/".concat(e)}}),getAllCategories:e.query({query:function(){return"/category/all"}}),searchMovies:e.query({query:function(e){var t=e.keyword,c=e.cid;return{url:t||c?"/movie/search":"/movie/all",params:t||c?{keyword:t,categoryId:c}:null}}})}}}),k=y.useGetMovieByIdQuery,N=y.useGetAllCategoriesQuery,C=y.useSearchMoviesQuery,A=Object(j.a)({reducer:Object(a.a)({faveSlice:f},y.reducerPath,y.reducer),middleware:function(e){return e().concat(y.middleware)}});Object(v.e)(A.dispatch);var F,S,B,I,L,q,R,Y,T,M,z=c(22),P=c(10),D=c(15),G=c(11),Q=c(2),U=c(8),H=c(1),J=function(){var e=Object(U.g)(),t=function(e){var t=e.lastIndexOf("/"),c=e.substring(t+1);return d.a.parseInt(c)}(Object(U.h)().pathname),c=Object(r.useState)(t),n=Object(z.a)(c,2),i=n[0],s=n[1],a=N(),j=a.data,l=a.isLoading,o=a.error;return Object(H.jsxs)(Q.j,{children:[Object(H.jsx)(Q.n,{style:{backgroundColor:"#26A69A"},children:function(e){var t=d.a.find(j,{id:e});return d.a.get(t,"name","Categories")}(i)}),Object(H.jsx)(Q.m,{children:l?Object(H.jsx)("p",{children:"Loading..."}):o?Object(H.jsx)("p",{children:null===o||void 0===o?void 0:o.message}):j.map((function(t){var c,n=t.id,r=t.name,i=(c=n,function(){s(c);var t={pathname:"/ghibli-viewer/category/".concat(c)};e.push(t)});return Object(H.jsx)(Q.k,{children:Object(H.jsx)(Q.l,{onClick:i,children:r})},n)}))})]})},V=function(){var e,t=Object(U.g)(),c=Object(U.h)(),n=new URLSearchParams(c.search).get("sort"),i=Object(r.useState)(n),s=Object(z.a)(i,2),a=s[0],j=s[1],l=function(e){return function(){j(e),t.push({search:"?sort=".concat(e)})}},o=l("rank"),b=l("newest"),h=l("oldest");return Object(H.jsxs)(Q.j,{children:[Object(H.jsx)(Q.n,{style:{backgroundColor:"#26A69A"},children:(e=a,d.a.get({rank:"By Rank",newest:"Newest First",oldest:"Oldest First"},e,"Sort By"))}),Object(H.jsxs)(Q.m,{children:[Object(H.jsx)(Q.k,{children:Object(H.jsx)(Q.l,{onClick:o,children:"By Rank"})}),Object(H.jsx)(Q.k,{children:Object(H.jsx)(Q.l,{onClick:b,children:"By Release Year (Newest First)"})}),Object(H.jsx)(Q.k,{children:Object(H.jsx)(Q.l,{onClick:h,children:"By Release Year (Oldest First)"})})]})]})},W=G.a.div(F||(F=Object(P.a)(["\n  @media (min-width: 992px) {\n    padding-right: 2rem;\n  }\n"]))),E=Object(G.a)(Q.p)(S||(S=Object(P.a)(["\n  @media (min-width: 992px) {\n    width: 15rem;\n  }\n"]))),K=function(){var e=Object(r.useState)(""),t=Object(z.a)(e,2),c=t[0],n=t[1],i=Object(U.g)();return Object(H.jsx)(W,{children:Object(H.jsx)(E,{label:"Search",id:"typeText",type:"text",value:c,onChange:function(e){n(e.target.value),i.push("/ghibli-viewer/search/".concat(e.target.value))}})})},X=c.p+"static/media/totoro-logo.ea15bd29.png",Z=function(){var e=Object(U.g)();return Object(H.jsxs)(Q.r,{style:{cursor:"pointer"},onClick:function(){e.push({pathname:"/ghibli-viewer"})},children:[Object(H.jsx)("img",{src:X,height:"60",alt:"Totoro Icon"}),Object(H.jsx)("strong",{children:"Studio Ghibli Collection"})]})},$=c(84),_=function(e){var t=e.id,c=k(t),r=c.data,i=c.error,s=c.isLoading,a=Object(n.d)(),j=function(){return a(O())},l="/ghibli-viewer/movie/".concat(t);return Object(H.jsx)(H.Fragment,{children:s?Object(H.jsxs)("p",{className:"text-center",children:["Loading Movie ",t,"..."]}):i?Object(H.jsx)("p",{children:i.data.message}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:"d-flex align-items-center",children:[Object(H.jsx)(D.b,{to:l,onClick:j,children:Object(H.jsx)(Q.b,{style:{maxWidth:"12rem"},children:Object(H.jsx)("img",{src:r.profileImage,alt:r.title})})}),Object(H.jsxs)("div",{className:"py-2 px-2",children:[Object(H.jsx)("p",{className:"font-weight-bold",children:r.title}),Object(H.jsx)("p",{children:r.releaseYear}),Object(H.jsx)("p",{children:r.director}),Object(H.jsx)(D.b,{to:l,children:Object(H.jsx)(Q.a,{style:{backgroundColor:"#3AA7A0"},onClick:j,children:"Details"})})]})]}),Object(H.jsx)("hr",{className:"m-0"})]})})},ee=function(){var e=Object(n.d)(),t=Object(n.e)(m),c=Object(n.e)(p),r=Object(G.a)(Q.o)(B||(B=Object(P.a)(["\n    cursor: pointer;\n\n    @media (min-width: 992px) {\n      padding-right: 2rem;\n    }\n    &:hover {\n      transform: scale(1.2);\n      transition-duration: 0.2s;\n    }\n  "])));return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(r,{far:!0,icon:"heart",size:"2x",color:"light",onClick:function(){return e(h())}}),Object(H.jsxs)($.a,{show:t,onHide:function(){return e(O())},placement:"end",children:[Object(H.jsx)($.a.Header,{style:{backgroundColor:"#3AA7A0"},closeButton:!0,children:Object(H.jsx)($.a.Title,{className:"text-white",children:"Favourite Movies"})}),Object(H.jsx)($.a.Body,{className:"p-0",children:c.map((function(e){return Object(H.jsx)("div",{children:Object(H.jsx)(_,{id:e})},e)}))})]})]})},te=Object(G.a)(Q.s)(I||(I=Object(P.a)(["\n  @media (min-width: 992px) {\n    padding-left: 3rem;\n    padding-right: 1rem;\n  }\n"]))),ce=function(e){var t=Object(r.useState)(!1),c=Object(z.a)(t,2),n=c[0],i=c[1],s=e.children;return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(D.a,{children:[Object(H.jsx)(Q.q,{expand:"lg",dark:!0,style:{backgroundColor:"#3AA7A0"},fixed:"top",children:Object(H.jsxs)(Q.i,{children:[Object(H.jsx)(Z,{}),Object(H.jsx)(Q.u,{type:"button","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return i(!n)},children:Object(H.jsx)(Q.o,{icon:"bars",fas:!0})}),Object(H.jsxs)(Q.h,{navbar:!0,show:n,children:[Object(H.jsxs)(Q.t,{children:[Object(H.jsx)(te,{children:Object(H.jsx)(J,{})}),Object(H.jsx)(Q.s,{children:Object(H.jsx)(V,{})})]}),Object(H.jsx)(K,{}),Object(H.jsx)(ee,{})]})]})}),Object(H.jsx)(Q.i,{className:"mx-0 px-0",fluid:!0,children:s})]})})},ne=function(e){return Object(H.jsx)(ce,{children:Object(H.jsx)(e,{})})},re=c.p+"static/media/totoro.80bbbb67.gif",ie=G.a.div(L||(L=Object(P.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n"]))),se=G.a.img(q||(q=Object(P.a)(["\n  width: 14rem;\n"]))),ae=function(){return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(ie,{children:[Object(H.jsx)(se,{src:re,alt:"Loading animation"}),Object(H.jsx)("h1",{className:"text-center",children:"LOADING...."})]})})},je=c(47),le=function(e){var t=e.movie,c=e.className,n=e.children,r=G.a.div(R||(R=Object(P.a)(["\n    background-image: url(","), linear-gradient(to right, #2e2e2e, #ffffff);\n    min-height: 100vh;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-blend-mode: multiply;\n    padding-top: 6rem;\n  "])),t.posterImage);return Object(H.jsx)(r,{className:c,children:n})},de=function(){var e=Object(U.i)().mid,t=k(e),c=t.data,n=t.error,r=t.isLoading;return Object(H.jsx)(H.Fragment,{children:r?Object(H.jsx)(ae,{}):n?Object(H.jsx)("p",{children:n.data.message}):Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(Q.i,{className:"text-white p-0",fluid:!0,children:Object(H.jsx)(le,{movie:c,children:Object(H.jsx)(Q.i,{children:Object(H.jsx)(Q.w,{children:Object(H.jsx)(Q.g,{children:Object(H.jsx)(Q.g,{className:"white-text",children:Object(H.jsxs)(Q.g,{className:"py-5",children:[Object(H.jsx)(Q.f,{className:"h1-responsive m-5 font-weight-bold",children:c.title}),Object(H.jsxs)(Q.w,{children:[Object(H.jsxs)(Q.g,{lg:"6",className:"p-0",children:[Object(H.jsx)("p",{className:"mx-5 mb-4",children:c.description}),Object(H.jsxs)(Q.w,{className:"mx-5",children:[Object(H.jsx)(Q.g,{children:Object(H.jsxs)("p",{children:[Object(H.jsx)("span",{className:"font-weight-bold text-nowrap",children:"Directed By"}),Object(H.jsx)("br",{}),c.director]})}),Object(H.jsx)(Q.g,{children:Object(H.jsxs)("p",{children:[Object(H.jsx)("span",{className:"font-weight-bold  text-nowrap",children:"Released Year"}),Object(H.jsx)("br",{}),c.releaseYear]})}),Object(H.jsx)(Q.g,{children:Object(H.jsxs)("p",{children:[Object(H.jsx)("span",{className:"font-weight-bold",children:" Runtime "}),Object(H.jsx)("br",{}),c.runningTime]})})]})]}),Object(H.jsx)(Q.g,{lg:"6",className:"text-center",children:Object(H.jsx)(je.a,{videoId:c.trailer.youtubeVideoId,opts:{height:"330",width:"460",playerVars:{autoplay:0}},className:"px-0"})})]})]})})})})})})})})})},oe=Object(G.a)(Q.o)(Y||(Y=Object(P.a)(["\n  cursor: pointer;\n  &:hover {\n    transform: scale(1.2);\n    transition-duration: 0.2s;\n  }\n"]))),be=function(e){var t,c=e.id,r=(null!==(t=Object(n.e)(function(e){return function(t){return d.a.find(t.faveSlice.faves,{id:e})}}(c)))&&void 0!==t?t:{fave:!1}).fave,i=Object(n.d)();return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(oe,{icon:"heart",size:"2x",className:"ms-4",color:r?"danger":"light",onClick:function(){i(x(c))}})})},he=function(e){var t=e.movie,c=t.id,n=t.title,r=t.summary,i=t.profileImage,s=t.rank,a=t.releaseYear,j="/ghibli-viewer/movie/".concat(c);return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("div",{className:"py-3",children:Object(H.jsxs)(Q.b,{style:{maxWidth:"16rem"},className:"mx-auto",children:[Object(H.jsx)(D.b,{to:j,children:Object(H.jsxs)(Q.v,{rippleColor:"light",rippleTag:"div",className:"bg-image hover-overlay",children:[Object(H.jsx)(Q.d,{src:i,alt:n,fluid:!0}),Object(H.jsx)("div",{className:"mask d-flex justify-content-center align-items-center px-4",style:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:Object(H.jsx)("span",{className:"text-white",children:r})})]})}),Object(H.jsx)(Q.c,{className:"py-0 text-white",style:{backgroundColor:"#44546b"},children:Object(H.jsx)(Q.e,{className:"py-2",style:{whiteSpace:"nowrap"},children:Object(H.jsxs)("span",{className:"d-flex align-items-center",children:[Object(H.jsxs)("span",{className:"me-3",children:[Object(H.jsx)(Q.o,{fas:!0,icon:"crown",size:"lg",color:"warning"}),"\xa0",s]}),Object(H.jsxs)("span",{children:[Object(H.jsx)(Q.o,{fas:!0,icon:"video",size:"lg",style:{color:"#607D8B"}}),"\xa0",Object(H.jsx)("span",{children:a})]}),Object(H.jsx)("span",{className:"ms-4",children:Object(H.jsx)(be,{id:c})})]})})})]})})})},Oe=function(){var e,t,c=Object(U.i)(),r=c.keyword,i=c.cid,s=Object(U.h)(),a=C({keyword:r,cid:i}),j=a.data,l=a.error,o=a.isLoading,b=new URLSearchParams(s.search).get("sort"),h=Object(n.d)(),O=Object(n.e)(g);if("newest"===b?(e="releaseYear",t="desc"):"oldest"===b?(e="releaseYear",t="asc"):"rank"===b?(e="rank",t="asc"):(e="id",t="asc"),!o&&!l&&0===O){var x=j.length;h(u(x))}return Object(H.jsx)(H.Fragment,{children:o?Object(H.jsx)(ae,{}):l?Object(H.jsx)("p",{children:l.data.message}):Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(Q.i,{style:{paddingTop:"6rem"},children:Object(H.jsx)(Q.w,{children:d.a.orderBy(j,[e],[t]).map((function(e){return Object(H.jsx)(Q.g,{lg:"3",md:"6",sm:"6",children:Object(H.jsx)(he,{movie:e})},"col-".concat(e.id))}))})})})})},xe=c.p+"static/media/not-found.1860ad2e.gif",ue=G.a.div(T||(T=Object(P.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 70vh;\n"]))),me=G.a.img(M||(M=Object(P.a)(["\n  width: 18rem;\n"]))),ge=function(){return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(ue,{children:Object(H.jsxs)("div",{className:"text-center",children:[Object(H.jsx)(me,{src:xe,alt:"Not Found Animation"}),Object(H.jsx)("h1",{className:"text-center pt-5",children:"Page is not found."})]})})})},pe=function(){return Object(H.jsxs)(U.d,{children:[Object(H.jsx)(U.b,{exact:!0,path:"/ghibli-viewer/",children:Object(H.jsx)(Oe,{})}),Object(H.jsx)(U.b,{path:"/ghibli-viewer/category/:cid",children:Object(H.jsx)(Oe,{})}),Object(H.jsx)(U.b,{path:"/ghibli-viewer/search/:keyword",children:Object(H.jsx)(Oe,{})}),Object(H.jsx)(U.b,{path:"/ghibli-viewer/search",children:Object(H.jsx)(U.a,{to:"/ghibli-viewer"})}),Object(H.jsx)(U.b,{path:"/ghibli-viewer/movie/:mid",children:Object(H.jsx)(de,{})}),Object(H.jsx)(U.b,{exact:!0,path:"/ghibli-viewer/notfound",children:Object(H.jsx)(ge,{})}),Object(H.jsx)(U.b,{path:"/ghibli-viewer/",children:Object(H.jsx)(U.a,{to:"/ghibli-viewer/notfound"})})]})},fe=function(){return Object(H.jsx)("div",{className:"App",children:ne(pe)})};s.a.render(Object(H.jsx)(n.a,{store:A,children:Object(H.jsx)(fe,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.20c5fffc.chunk.js.map