(this["webpackJsonpghibli-viewer"]=this["webpackJsonpghibli-viewer"]||[]).push([[0],{64:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var n=c(6),r=c(0),i=c(9),s=c.n(i),a=(c(63),c(64),c(13)),j=c(3),l=c(17),d=c.n(l),o=Object(j.d)({name:"faveSlice",initialState:{show:!1,faves:[]},reducers:{open:function(e){e.show=!0},close:function(e){e.show=!1},reset:function(e,t){var c=t.payload,n=Array.from({length:c},(function(e,t){return{id:t,fave:!1}}));e.faves=n},flip:function(e,t){var c,n=t.payload,r=null!==(c=d.a.find(e.faves,{id:n}))&&void 0!==c?c:{id:n,fave:!1};r.fave=!r.fave}}}),b=o.actions,h=b.open,O=b.close,x=b.flip,u=b.reset,m=function(e){return e.faveSlice.show},g=function(e){return e.faveSlice.faves.length},f=function(e){var t=d.a.filter(e.faveSlice.faves,(function(e){return e.fave}));return d.a.map(t,(function(e){return e.id}))},p=o.reducer,v=c(14),y=c(38),w=Object(y.a)({reducerPath:"ghibliApi",baseQuery:Object(v.d)({baseUrl:"https://quote-me-on-ghibli.herokuapp.com"}),endpoints:function(e){return{getMovieById:e.query({query:function(e){return"/movie/".concat(e)}}),getAllCategories:e.query({query:function(){return"/category/all"}}),searchMovies:e.query({query:function(e){var t=e.keyword,c=e.cid;return{url:t||c?"/movie/search":"/movie/all",params:t||c?{keyword:t,categoryId:c}:null}}})}}}),N=w.useGetMovieByIdQuery,k=w.useGetAllCategoriesQuery,C=w.useSearchMoviesQuery,F=Object(j.a)({reducer:Object(a.a)({faveSlice:p},w.reducerPath,w.reducer),middleware:function(e){return e().concat(w.middleware)}});Object(v.e)(F.dispatch);var A,S,B,I,L,R,Y,q,D,T,z=c(19),M=c(10),P=c(15),G=c(11),Q=c(2),U=c(8),V=c(1),W=function(){var e=Object(U.g)(),t=function(e){var t=e.lastIndexOf("/"),c=e.substring(t+1);return d.a.parseInt(c)}(Object(U.h)().pathname),c=Object(r.useState)(t),n=Object(z.a)(c,2),i=n[0],s=n[1],a=k(),j=a.data,l=a.isLoading,o=a.error;return Object(V.jsxs)(Q.j,{children:[Object(V.jsx)(Q.n,{style:{backgroundColor:"#26A69A"},children:function(e){var t=d.a.find(j,{id:e});return d.a.get(t,"name","Categories")}(i)}),Object(V.jsx)(Q.m,{children:l?Object(V.jsx)("p",{children:"Loading..."}):o?Object(V.jsx)("p",{children:null===o||void 0===o?void 0:o.message}):j.map((function(t){var c,n=t.id,r=t.name,i=(c=n,function(){s(c),e.push({pathname:"/ghibli-viewer/category/".concat(c)})});return Object(V.jsx)(Q.k,{children:Object(V.jsx)(Q.l,{onClick:i,children:r})},n)}))})]})},H=function(){var e,t=Object(U.g)(),c=Object(U.h)(),n=new URLSearchParams(c.search).get("sort"),i=Object(r.useState)(n),s=Object(z.a)(i,2),a=s[0],j=s[1],l=function(e){return function(){j(e),t.push({search:"?sort=".concat(e)})}},o=l("rank"),b=l("newest"),h=l("oldest");return Object(V.jsxs)(Q.j,{children:[Object(V.jsx)(Q.n,{style:{backgroundColor:"#26A69A"},children:(e=a,d.a.get({rank:"By Rank",newest:"Newest First",oldest:"Oldest First"},e,"Sort By"))}),Object(V.jsxs)(Q.m,{children:[Object(V.jsx)(Q.k,{children:Object(V.jsx)(Q.l,{onClick:o,children:"By Rank"})}),Object(V.jsx)(Q.k,{children:Object(V.jsx)(Q.l,{onClick:b,children:"By Release Year (Newest First)"})}),Object(V.jsx)(Q.k,{children:Object(V.jsx)(Q.l,{onClick:h,children:"By Release Year (Oldest First)"})})]})]})},J=G.a.div(A||(A=Object(M.a)(["\n  @media (min-width: 992px) {\n    padding-right: 5rem;\n  }\n"]))),E=Object(G.a)(Q.p)(S||(S=Object(M.a)(["\n  @media (min-width: 992px) {\n    margin: 0 4rem;\n  }\n"]))),K=function(){var e=Object(r.useState)(""),t=Object(z.a)(e,2),c=t[0],n=t[1],i=Object(U.g)();return Object(V.jsx)(J,{children:Object(V.jsx)(E,{label:"Search",id:"typeText",type:"text",value:c,onChange:function(e){n(e.target.value),i.push("/ghibli-viewer/search/".concat(e.target.value))}})})},X=c.p+"static/media/totoro-logo.ea15bd29.png",Z=function(){var e=Object(U.g)();return Object(V.jsxs)(Q.r,{onClick:function(){e.push({pathname:"/ghibli-viewer"})},children:[Object(V.jsx)("img",{src:X,height:"60",alt:"Totoro Icon"}),Object(V.jsx)("strong",{children:"Studio Ghibli Collection"})]})},$=c(84),_=function(e){var t=e.id,c=N(t),r=c.data,i=c.error,s=c.isLoading,a=Object(n.d)(),j="/ghibli-viewer/movie/".concat(t);return Object(V.jsx)(V.Fragment,{children:s?Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("p",{children:["Loading Movie ",t,"..."]})}):i?Object(V.jsx)("p",{children:i.data.message}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("div",{className:"d-flex align-items-center",children:[Object(V.jsx)(P.b,{to:j,children:Object(V.jsx)(Q.b,{style:{maxWidth:"12rem"},children:Object(V.jsx)("img",{src:r.profileImage,alt:r.title})})}),Object(V.jsxs)("div",{className:"py-2 px-2",children:[Object(V.jsx)("p",{className:"font-weight-bold",children:r.title}),Object(V.jsx)("p",{children:r.releaseYear}),Object(V.jsx)("p",{children:r.director}),Object(V.jsx)(P.b,{to:j,children:Object(V.jsx)(Q.a,{style:{backgroundColor:"#9FD9D0"},onClick:function(){return a(O())},children:"Watch Details"})})]})]}),Object(V.jsx)("hr",{className:"m-0"})]})})},ee=function(){var e=Object(n.d)(),t=Object(n.e)(m),c=Object(n.e)(f),r=Object(G.a)(Q.o)(B||(B=Object(M.a)(["\n    cursor: pointer;\n    &:hover {\n      transform: scale(1.2);\n      transition-duration: 0.2s;\n    }\n  "])));return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(r,{icon:"heart",size:"3x",className:"ms-4",style:{color:"#C5585F"},onClick:function(){return e(h())},around:!0}),Object(V.jsxs)($.a,{show:t,onHide:function(){return e(O())},placement:"end",children:[Object(V.jsx)($.a.Header,{style:{backgroundColor:"#3AA7A0"},closeButton:!0,children:Object(V.jsx)($.a.Title,{className:"text-white",children:"Your Faves List"})}),Object(V.jsx)($.a.Body,{className:"p-0",children:c.map((function(e){return Object(V.jsx)("div",{children:Object(V.jsx)(_,{id:e})},e)}))})]})]})},te=Object(G.a)(Q.s)(I||(I=Object(M.a)(["\n  @media (min-width: 992px) {\n    padding-left: 3rem;\n    padding-right: 1rem;\n  }\n"]))),ce=function(e){var t=Object(r.useState)(!1),c=Object(z.a)(t,2),n=c[0],i=c[1],s=Object(r.useState)(!1),a=Object(z.a)(s,2),j=(a[0],a[1],e.children);return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(P.a,{children:[Object(V.jsx)(Q.q,{expand:"lg",dark:!0,style:{backgroundColor:"#3AA7A0"},children:Object(V.jsxs)(Q.i,{className:"px-5 py-2",fluid:!0,children:[Object(V.jsx)(Z,{}),Object(V.jsx)(Q.u,{type:"button","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return i(!n)},children:Object(V.jsx)(Q.o,{icon:"bars",fas:!0})}),Object(V.jsxs)(Q.h,{navbar:!0,show:n,children:[Object(V.jsxs)(Q.t,{children:[Object(V.jsx)(te,{children:Object(V.jsx)(W,{})}),Object(V.jsx)(Q.s,{children:Object(V.jsx)(H,{})})]}),Object(V.jsx)(K,{}),Object(V.jsx)(ee,{})]})]})}),Object(V.jsx)(Q.i,{className:"mx-0 px-0",fluid:!0,children:j})]})})},ne=function(e){return Object(V.jsx)(ce,{children:Object(V.jsx)(e,{})})},re=c.p+"static/media/totoro.80bbbb67.gif",ie=G.a.div(L||(L=Object(M.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n"]))),se=G.a.img(R||(R=Object(M.a)(["\n  width: 14rem;\n"]))),ae=function(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(ie,{children:[Object(V.jsx)(se,{src:re,alt:"Loading animation"}),Object(V.jsx)("h1",{className:"text-center",children:"LOADING...."})]})})},je=c(47),le=function(e){var t=e.movie,c=e.className,n=e.children,r=G.a.div(Y||(Y=Object(M.a)(["\n    background-image: url(","), linear-gradient(to right, #2e2e2e, #ffffff);\n    min-height: 86vh;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-blend-mode: multiply;\n  "])),t.posterImage);return Object(V.jsx)(r,{className:c,children:n})},de=function(){var e=Object(U.i)().mid,t=N(e),c=t.data,n=t.error,r=t.isLoading;return Object(V.jsx)(V.Fragment,{children:r?Object(V.jsx)(ae,{}):n?Object(V.jsx)("p",{children:n.data.message}):Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(Q.i,{className:"text-white p-0",fluid:!0,children:Object(V.jsx)(le,{movie:c,children:Object(V.jsx)(Q.w,{children:Object(V.jsx)(Q.g,{className:"",children:Object(V.jsx)(Q.g,{className:"white-text ",children:Object(V.jsxs)(Q.g,{className:"py-5",children:[Object(V.jsx)(Q.f,{className:"h1-responsive m-5 font-weight-bold",children:c.title}),Object(V.jsxs)(Q.w,{children:[Object(V.jsxs)(Q.g,{lg:"6",className:"p-0",children:[Object(V.jsx)("p",{className:"mx-5 mb-4",children:c.description}),Object(V.jsxs)(Q.w,{className:"mx-5",children:[Object(V.jsx)(Q.g,{children:Object(V.jsxs)("p",{children:[Object(V.jsx)("span",{className:"font-weight-bold text-nowrap",children:"Directed By"}),Object(V.jsx)("br",{}),c.director]})}),Object(V.jsx)(Q.g,{children:Object(V.jsxs)("p",{children:[Object(V.jsx)("span",{className:"font-weight-bold  text-nowrap",children:"Released Year"}),Object(V.jsx)("br",{}),c.releaseYear]})}),Object(V.jsx)(Q.g,{children:Object(V.jsxs)("p",{children:[Object(V.jsx)("span",{className:"font-weight-bold",children:" Runtime "}),Object(V.jsx)("br",{}),c.runningTime]})})]})]}),Object(V.jsx)(Q.g,{lg:"6",className:"text-center",children:Object(V.jsx)(je.a,{videoId:c.trailer.youtubeVideoId,opts:{height:"330",width:"460",playerVars:{autoplay:1}},onReady:function(e){e.target.pauseVideo()},className:"px-0"})})]})]})})})})})})})})},oe=Object(G.a)(Q.o)(q||(q=Object(M.a)(["\n  cursor: pointer;\n  &:hover {\n    transform: scale(1.2);\n    transition-duration: 0.2s;\n  }\n"]))),be=function(e){var t,c=e.id,r=(null!==(t=Object(n.e)(function(e){return function(t){return d.a.find(t.faveSlice.faves,{id:e})}}(c)))&&void 0!==t?t:{fave:!1}).fave,i=Object(n.d)();return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(oe,{icon:"heart",size:"2x",className:"ms-4",color:r?"danger":"transparent",onClick:function(){i(x(c))}})})},he=function(e){var t=e.movie,c=t.id,n=t.title,r=t.summary,i=t.profileImage,s=t.rank,a=t.releaseYear,j="/ghibli-viewer/movie/".concat(c);return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)("div",{className:"py-3",children:Object(V.jsxs)(Q.b,{style:{maxWidth:"17rem"},className:"mx-auto",children:[Object(V.jsx)(P.b,{to:j,children:Object(V.jsxs)(Q.v,{rippleColor:"light",rippleTag:"div",className:"bg-image hover-overlay",children:[Object(V.jsx)(Q.d,{src:i,alt:n,fluid:!0}),Object(V.jsx)("div",{className:"mask d-flex justify-content-center align-items-center px-3",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:Object(V.jsx)("span",{className:"text-white",children:r})})]})}),Object(V.jsx)(Q.c,{className:"py-0",style:{backgroundColor:"#26A69A"},children:Object(V.jsx)(Q.e,{className:"py-2",style:{whiteSpace:"nowrap"},children:Object(V.jsxs)("span",{className:"d-flex align-items-center",children:[Object(V.jsxs)("span",{className:"me-3",children:[Object(V.jsx)(Q.o,{fas:!0,icon:"crown",size:"lg",color:"warning"}),"\xa0",s]}),Object(V.jsxs)("span",{children:[Object(V.jsx)(Q.o,{fas:!0,icon:"video",size:"lg",style:{color:"#607D8B"}}),"\xa0",Object(V.jsx)("span",{children:a})]}),Object(V.jsx)("span",{className:"ms-4",children:Object(V.jsx)(be,{id:c})})]})})})]})})})},Oe=function(){var e,t,c=Object(U.i)(),r=c.keyword,i=c.cid,s=Object(U.h)(),a=C({keyword:r,cid:i}),j=a.data,l=a.error,o=a.isLoading,b=new URLSearchParams(s.search).get("sort"),h=Object(n.d)(),O=Object(n.e)(g);if("newest"===b?(e="releaseYear",t="desc"):"oldest"===b?(e="releaseYear",t="asc"):"rank"===b?(e="rank",t="asc"):(e="id",t="asc"),!o&&!l&&0===O){var x=j.length;h(u(x))}return Object(V.jsx)(V.Fragment,{children:o?Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(ae,{})}):l?Object(V.jsx)("p",{children:l.data.message}):Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(Q.i,{fluid:!0,children:Object(V.jsx)(Q.i,{children:Object(V.jsx)(Q.w,{children:d.a.orderBy(j,[e],[t]).map((function(e){return Object(V.jsx)(Q.g,{lg:"3",md:"6",sm:"6",children:Object(V.jsx)(he,{movie:e})},"col-".concat(e.id))}))})})})})})},xe=c.p+"static/media/not-found.1860ad2e.gif",ue=G.a.div(D||(D=Object(M.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 70vh;\n"]))),me=G.a.img(T||(T=Object(M.a)(["\n  width: 18rem;\n"]))),ge=function(){return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(ue,{children:Object(V.jsxs)("div",{className:"text-center",children:[Object(V.jsx)(me,{src:xe,alt:"Not Found Animation"}),Object(V.jsx)("h1",{className:"text-center pt-5",children:"Page is not found."})]})})})},fe=function(){return Object(V.jsxs)(U.d,{children:[Object(V.jsx)(U.b,{exact:!0,path:"/ghibli-viewer/",children:Object(V.jsx)(Oe,{})}),Object(V.jsx)(U.b,{path:"/ghibli-viewer/category/:cid",children:Object(V.jsx)(Oe,{})}),Object(V.jsx)(U.b,{path:"/ghibli-viewer/search/:keyword",children:Object(V.jsx)(Oe,{})}),Object(V.jsx)(U.b,{path:"/ghibli-viewer/search",children:Object(V.jsx)(U.a,{to:"/ghibli-viewer"})}),Object(V.jsx)(U.b,{path:"/ghibli-viewer/movie/:mid",children:Object(V.jsx)(de,{})}),Object(V.jsx)(U.b,{exact:!0,path:"/ghibli-viewer/notfound",children:Object(V.jsx)(ge,{})}),Object(V.jsx)(U.b,{path:"/ghibli-viewer/",children:Object(V.jsx)(U.a,{to:"/ghibli-viewer/notfound"})})]})},pe=function(){return Object(V.jsx)("div",{className:"App",children:ne(fe)})};s.a.render(Object(V.jsx)(n.a,{store:F,children:Object(V.jsx)(pe,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.723a9745.chunk.js.map