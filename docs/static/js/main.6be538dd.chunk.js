(this["webpackJsonpghibli-viewer"]=this["webpackJsonpghibli-viewer"]||[]).push([[0],{54:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var n=c(8),r=c(0),a=c(19),s=c.n(a),i=(c(53),c(54),c(32)),j=c(3),l=c(17),d=c.n(l),o=Object(j.d)({name:"faveSlice",initialState:{faves:[]},reducers:{reset:function(e,t){var c=t.payload,n=Array.from({length:c},(function(e,t){return{id:t,fave:!1}}));e.faves=n},flip:function(e,t){var c,n=t.payload,r=null!==(c=d.a.find(e.faves,{id:n}))&&void 0!==c?c:{id:n,fave:!1};r.fave=!r.fave}}}),b=o.actions,h=b.flip,O=b.reset,x=o.reducer,u=c(9),m=c(33),g=Object(m.a)({reducerPath:"ghibliApi",baseQuery:Object(u.d)({baseUrl:"https://quote-me-on-ghibli.herokuapp.com"}),endpoints:function(e){return{getMovieById:e.query({query:function(e){return"/movie/".concat(e)}}),getAllCategories:e.query({query:function(){return"/category/all"}}),searchMovies:e.query({query:function(e){var t=e.keyword,c=e.cid;return{url:t||c?"/movie/search":"/movie/all",params:t||c?{keyword:t,categoryId:c}:null}}})}}}),f=g.useGetMovieByIdQuery,p=g.useGetAllCategoriesQuery,v=g.useSearchMoviesQuery,y=Object(j.a)({reducer:Object(i.a)({faveSlice:x},g.reducerPath,g.reducer),middleware:function(e){return e().concat(g.middleware)}});Object(u.e)(y.dispatch);var w,k,N,C,F,A,S,I,B,R=c(21),q=c(10),L=c(20),Y=c(11),M=c(2),P=c(6),T=c(1),z=function(){var e=Object(P.g)(),t=function(e){var t=e.lastIndexOf("/"),c=e.substring(t+1);return d.a.parseInt(c)}(Object(P.h)().pathname),c=Object(r.useState)(t),n=Object(R.a)(c,2),a=n[0],s=n[1],i=p(),j=i.data,l=i.isLoading,o=i.error;return Object(T.jsxs)(M.i,{children:[Object(T.jsx)(M.m,{style:{backgroundColor:"#26A69A"},children:function(e){var t=d.a.find(j,{id:e});return d.a.get(t,"name","Categories")}(a)}),Object(T.jsx)(M.l,{children:l?Object(T.jsx)("p",{children:"Loading..."}):o?Object(T.jsx)("p",{children:null===o||void 0===o?void 0:o.message}):j.map((function(t){var c,n=t.id,r=t.name,a=(c=n,function(){s(c),e.push({pathname:"/category/".concat(c)})});return Object(T.jsx)(M.j,{children:Object(T.jsx)(M.k,{onClick:a,children:r})},n)}))})]})},G=function(){var e,t=Object(P.g)(),c=Object(P.h)(),n=new URLSearchParams(c.search).get("sort"),a=Object(r.useState)(n),s=Object(R.a)(a,2),i=s[0],j=s[1],l=function(e){return function(){j(e),t.push({search:"?sort=".concat(e)})}},o=l("rank"),b=l("newest"),h=l("oldest");return Object(T.jsxs)(M.i,{children:[Object(T.jsx)(M.m,{style:{backgroundColor:"#26A69A"},children:(e=i,d.a.get({rank:"By Rank",newest:"Newest First",oldest:"Oldest First"},e,"Sort By"))}),Object(T.jsxs)(M.l,{children:[Object(T.jsx)(M.j,{children:Object(T.jsx)(M.k,{onClick:o,children:"By Rank"})}),Object(T.jsx)(M.j,{children:Object(T.jsx)(M.k,{onClick:b,children:"By Release Year (Newest First)"})}),Object(T.jsx)(M.j,{children:Object(T.jsx)(M.k,{onClick:h,children:"By Release Year (Oldest First)"})})]})]})},Q=Y.a.div(w||(w=Object(q.a)(["\n  @media (min-width: 992px) {\n    padding-right: 5rem;\n  }\n"]))),D=Object(Y.a)(M.o)(k||(k=Object(q.a)(["\n  @media (min-width: 992px) {\n    margin: 0 4rem;\n  }\n"]))),U=function(){var e=Object(r.useState)(""),t=Object(R.a)(e,2),c=t[0],n=t[1],a=Object(P.g)();return Object(T.jsx)(Q,{children:Object(T.jsx)(D,{label:"Search",id:"typeText",type:"text",value:c,onChange:function(e){n(e.target.value),a.push("/search/".concat(e.target.value))}})})},V=c.p+"static/media/totoro-logo.ea15bd29.png",J=Object(Y.a)(M.r)(N||(N=Object(q.a)(["\n  @media (min-width: 992px) {\n    padding-left: 3rem;\n    padding-right: 1rem;\n  }\n"]))),E=function(e){var t=Object(r.useState)(!1),c=Object(R.a)(t,2),n=c[0],a=c[1],s=e.children;return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(L.a,{children:[Object(T.jsx)(M.p,{expand:"lg",dark:!0,style:{backgroundColor:"#26A69A"},children:Object(T.jsxs)(M.h,{className:"px-5 py-2",fluid:!0,children:[Object(T.jsxs)(M.q,{href:"/",children:[Object(T.jsx)("img",{src:V,height:"60",alt:"Totoro Icon"}),Object(T.jsx)("strong",{children:"Studio Ghibli Collection"})]}),Object(T.jsx)(M.u,{type:"button","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return a(!n)},children:Object(T.jsx)(M.n,{icon:"bars",fas:!0})}),Object(T.jsxs)(M.g,{navbar:!0,show:n,children:[Object(T.jsxs)(M.t,{children:[Object(T.jsx)(M.r,{children:Object(T.jsx)(M.s,{href:"/",children:"All Movies"})}),Object(T.jsx)(J,{children:Object(T.jsx)(z,{})}),Object(T.jsx)(M.r,{children:Object(T.jsx)(G,{})})]}),Object(T.jsx)(U,{})]})]})}),Object(T.jsx)(M.h,{className:"mx-0 px-0",fluid:!0,children:s})]})})},W=function(e){return Object(T.jsx)(E,{children:Object(T.jsx)(e,{})})},H=c.p+"static/media/totoro.80bbbb67.gif",K=Y.a.div(C||(C=Object(q.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n"]))),X=Y.a.img(F||(F=Object(q.a)(["\n  width: 14rem;\n"]))),Z=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(K,{children:[Object(T.jsx)(X,{src:H,alt:"Loading animation"}),Object(T.jsx)("h1",{className:"text-center",children:"LOADING...."})]})})},$=c(39),_=function(e){var t=e.movie,c=e.className,n=e.children,r=Y.a.div(A||(A=Object(q.a)(["\n    background-image: url(","), linear-gradient(to right, #2e2e2e, #ffffff);\n    min-height: 86vh;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-blend-mode: multiply;\n  "])),t.posterImage);return Object(T.jsx)(r,{className:c,children:n})},ee=function(){var e=Object(P.i)().mid,t=f(e),c=t.data,n=t.error,r=t.isLoading;return Object(T.jsx)(T.Fragment,{children:r?Object(T.jsx)(Z,{}):n?Object(T.jsx)("p",{children:n.data.message}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(M.h,{className:"text-white p-0",fluid:!0,children:Object(T.jsx)(_,{movie:c,children:Object(T.jsx)(M.w,{children:Object(T.jsx)(M.f,{className:"",children:Object(T.jsx)(M.f,{className:"white-text ",children:Object(T.jsxs)(M.f,{className:"py-5",children:[Object(T.jsx)(M.e,{className:"h1-responsive m-5 font-weight-bold",children:c.title}),Object(T.jsxs)(M.w,{children:[Object(T.jsxs)(M.f,{lg:"6",className:"p-0",children:[Object(T.jsx)("p",{className:"mx-5 mb-4",children:c.description}),Object(T.jsxs)(M.w,{className:"mx-5",children:[Object(T.jsx)(M.f,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{className:"font-weight-bold text-nowrap",children:"Directed By"}),Object(T.jsx)("br",{}),c.director]})}),Object(T.jsx)(M.f,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{className:"font-weight-bold  text-nowrap",children:"Released Year"}),Object(T.jsx)("br",{}),c.releaseYear]})}),Object(T.jsx)(M.f,{children:Object(T.jsxs)("p",{children:[Object(T.jsx)("span",{className:"font-weight-bold",children:" Runtime "}),Object(T.jsx)("br",{}),c.runningTime]})})]})]}),Object(T.jsx)(M.f,{lg:"6",className:"text-center",children:Object(T.jsx)($.a,{videoId:c.trailer.youtubeVideoId,opts:{height:"330",width:"460",playerVars:{autoplay:1}},onReady:function(e){e.target.pauseVideo()},className:"px-0"})})]})]})})})})})})})})},te=Object(Y.a)(M.n)(S||(S=Object(q.a)(["\n  cursor: pointer;\n  &:hover {\n    transform: scale(1.2);\n    transition-duration: 0.2s;\n  }\n"]))),ce=function(e){var t,c=e.id,r=(null!==(t=Object(n.e)((function(e){return d.a.find(e.faveSlice.faves,{id:c})})))&&void 0!==t?t:{fave:!1}).fave,a=Object(n.d)();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(te,{icon:"heart",size:"2x",className:"ms-4",color:r?"danger":"transparent",onClick:function(){a(h(c))}})})},ne=function(e){var t=e.movie,c=t.id,n=t.title,r=t.summary,a=t.profileImage,s=t.rank,i=t.releaseYear,j="/movie/".concat(c);return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:"py-3",children:Object(T.jsxs)(M.a,{style:{maxWidth:"17rem"},className:"mx-auto",children:[Object(T.jsx)(L.b,{to:j,children:Object(T.jsxs)(M.v,{rippleColor:"light",rippleTag:"div",className:"bg-image hover-overlay",children:[Object(T.jsx)(M.c,{src:a,alt:n,fluid:!0}),Object(T.jsx)("div",{className:"mask d-flex justify-content-center align-items-center px-3",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:Object(T.jsx)("span",{className:"text-white",children:r})})]})}),Object(T.jsx)(M.b,{className:"p-0",children:Object(T.jsx)(M.d,{className:"py-2 px-2",children:Object(T.jsxs)("span",{className:"d-flex align-items-center",children:[Object(T.jsxs)("span",{className:"me-3",children:[Object(T.jsx)(M.n,{fas:!0,icon:"crown",size:"lg",color:"warning"}),"\xa0",s]}),Object(T.jsxs)("span",{children:[Object(T.jsx)(M.n,{fas:!0,icon:"video",size:"lg",style:{color:"#607D8B"}}),"\xa0",Object(T.jsx)("span",{children:i})]}),Object(T.jsx)("span",{className:"ms-5",children:Object(T.jsx)(ce,{id:c})})]})})})]})})})},re=function(){var e,t,c=Object(P.i)(),r=c.keyword,a=c.cid,s=Object(P.h)(),i=v({keyword:r,cid:a}),j=i.data,l=i.error,o=i.isLoading,b=new URLSearchParams(s.search).get("sort"),h=Object(n.d)();if("newest"===b?(e="releaseYear",t="desc"):"oldest"===b?(e="releaseYear",t="asc"):"rank"===b?(e="rank",t="asc"):(e="id",t="asc"),!o&&!l){var x=j.length;h(O(x))}return Object(T.jsx)(T.Fragment,{children:o?Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(Z,{})}):l?Object(T.jsx)("p",{children:l.data.message}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(M.h,{fluid:!0,children:Object(T.jsx)(M.h,{children:Object(T.jsx)(M.w,{children:d.a.orderBy(j,[e],[t]).map((function(e){return Object(T.jsx)(M.f,{lg:"3",md:"6",sm:"6",children:Object(T.jsx)(ne,{movie:e})},"col-".concat(e.id))}))})})})})})},ae=c.p+"static/media/not-found.1860ad2e.gif",se=Y.a.div(I||(I=Object(q.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 70vh;\n"]))),ie=Y.a.img(B||(B=Object(q.a)(["\n  width: 18rem;\n"]))),je=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(se,{children:Object(T.jsxs)("div",{className:"text-center",children:[Object(T.jsx)(ie,{src:ae,alt:"Not Found Animation"}),Object(T.jsx)("h1",{className:"text-center pt-5",children:"Page is not found."})]})})})},le=function(){return Object(T.jsxs)(P.d,{children:[Object(T.jsx)(P.b,{exact:!0,path:"/",children:Object(T.jsx)(re,{})}),Object(T.jsx)(P.b,{path:"/category/:cid",children:Object(T.jsx)(re,{})}),Object(T.jsx)(P.b,{path:"/search/:keyword",children:Object(T.jsx)(re,{})}),Object(T.jsx)(P.b,{path:"/search",children:Object(T.jsx)(P.a,{to:"/"})}),Object(T.jsx)(P.b,{path:"/movie/:mid",children:Object(T.jsx)(ee,{})}),Object(T.jsx)(P.b,{exact:!0,path:"/notfound",children:Object(T.jsx)(je,{})}),Object(T.jsx)(P.b,{path:"/",children:Object(T.jsx)(P.a,{to:"/notfound"})})]})},de=function(){return Object(T.jsx)("div",{className:"App",children:W(le)})};s.a.render(Object(T.jsx)(n.a,{store:y,children:Object(T.jsx)(de,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.6be538dd.chunk.js.map