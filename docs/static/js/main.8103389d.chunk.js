(this["webpackJsonpghibli-viewer"]=this["webpackJsonpghibli-viewer"]||[]).push([[0],{70:function(e,t,c){},97:function(e,t,c){"use strict";c.r(t);var n=c(7),r=c(0),i=c(9),s=c.n(i),a=(c(69),c(70),c(14)),j=c(3),l=c(21),o=c.n(l),d=Object(j.d)({name:"faveSlice",initialState:{show:!1,faves:[]},reducers:{open:function(e){e.show=!0},close:function(e){e.show=!1},reset:function(e,t){var c=t.payload,n=Array.from({length:c},(function(e,t){return{id:t,fave:!1}}));e.faves=n},flip:function(e,t){var c,n=t.payload,r=null!==(c=o.a.find(e.faves,{id:n}))&&void 0!==c?c:{id:n,fave:!1};r.fave=!r.fave}}}),b=d.actions,h=b.open,O=b.close,x=b.flip,u=b.reset,g=function(e){return e.faveSlice.show},m=function(e){return e.faveSlice.faves.length},f=function(e){var t=o.a.filter(e.faveSlice.faves,(function(e){return e.fave}));return o.a.map(t,(function(e){return e.id}))},p=d.reducer,v=c(15),w=c(43),y=Object(w.a)({reducerPath:"ghibliApi",baseQuery:Object(v.d)({baseUrl:"https://quote-me-on-ghibli.herokuapp.com"}),endpoints:function(e){return{getMovieById:e.query({query:function(e){return"/movie/".concat(e)}}),getAllCategories:e.query({query:function(){return"/category/all"}}),searchMovies:e.query({query:function(e){var t=e.keyword,c=e.cid;return{url:t||c?"/movie/search":"/movie/all",params:t||c?{keyword:t,categoryId:c}:null}}})}}}),k=y.useGetMovieByIdQuery,N=y.useGetAllCategoriesQuery,C=y.useSearchMoviesQuery,A=Object(j.a)({reducer:Object(a.a)({faveSlice:p},y.reducerPath,y.reducer),middleware:function(e){return e().concat(y.middleware)}});Object(v.e)(A.dispatch);var F,S,B,I,q,L,R,Y,M,T=c(24),z=c(12),P=c(17),Q=c(13),D=c(2),G=c(8),U=c(1),H=function(){var e=Object(G.g)(),t=function(e){var t=e.lastIndexOf("/"),c=e.substring(t+1);return o.a.parseInt(c)}(Object(G.h)().pathname),c=Object(r.useState)(t),n=Object(T.a)(c,2),i=n[0],s=n[1],a=N(),j=a.data,l=a.isLoading,d=a.error;return Object(U.jsxs)(D.j,{children:[Object(U.jsx)(D.n,{style:{backgroundColor:"#26A69A"},children:function(e){var t=o.a.find(j,{id:e});return o.a.get(t,"name","Categories")}(i)}),Object(U.jsx)(D.m,{children:l?Object(U.jsx)("p",{children:"Loading..."}):d?Object(U.jsx)(G.a,{to:"/ghibli-viewer/notfound"}):j.map((function(t){var c,n=t.id,r=t.name,i=(c=n,function(){s(c);var t={pathname:"/ghibli-viewer/category/".concat(c)};e.push(t)});return Object(U.jsx)(D.k,{children:Object(U.jsx)(D.l,{onClick:i,children:r})},n)}))})]})},J=function(){var e,t=Object(G.g)(),c=Object(G.h)(),n=new URLSearchParams(c.search).get("sort"),i=Object(r.useState)(n),s=Object(T.a)(i,2),a=s[0],j=s[1],l=function(e){return function(){j(e),t.push({search:"?sort=".concat(e)})}},d=l("rank"),b=l("newest"),h=l("oldest");return Object(U.jsxs)(D.j,{children:[Object(U.jsx)(D.n,{style:{backgroundColor:"#26A69A"},children:(e=a,o.a.get({rank:"By Rank",newest:"Newest First",oldest:"Oldest First"},e,"Sort By"))}),Object(U.jsxs)(D.m,{children:[Object(U.jsx)(D.k,{children:Object(U.jsx)(D.l,{onClick:d,children:"By Rank"})}),Object(U.jsx)(D.k,{children:Object(U.jsx)(D.l,{onClick:b,children:"By Release Year (Newest First)"})}),Object(U.jsx)(D.k,{children:Object(U.jsx)(D.l,{onClick:h,children:"By Release Year (Oldest First)"})})]})]})},V=Q.a.div(F||(F=Object(z.a)(["\n  @media (min-width: 992px) {\n    padding-right: 2rem;\n  }\n"]))),W=Object(Q.a)(D.p)(S||(S=Object(z.a)(["\n  @media (min-width: 992px) {\n    width: 15rem;\n  }\n"]))),E=function(){var e=Object(r.useState)(""),t=Object(T.a)(e,2),c=t[0],n=t[1],i=Object(G.g)();return Object(U.jsx)(V,{children:Object(U.jsx)(W,{label:"Search",id:"typeText",type:"text",value:c,onChange:function(e){n(e.target.value),i.push("/ghibli-viewer/search/".concat(e.target.value))}})})},K=c.p+"static/media/totoro-logo.ea15bd29.png",X=function(){var e=Object(G.g)();return Object(U.jsxs)(D.r,{style:{cursor:"pointer"},onClick:function(){e.push({pathname:"/ghibli-viewer"})},children:[Object(U.jsx)("img",{src:K,height:"60",alt:"Totoro Icon"}),Object(U.jsx)("strong",{children:"Studio Ghibli Collection"})]})},Z=c(103),$=function(e){var t=e.id,c=k(t),r=c.data,i=c.error,s=c.isLoading,a=Object(n.d)(),j=function(){return a(O())},l="/ghibli-viewer/movie/".concat(t);return Object(U.jsx)(U.Fragment,{children:s?Object(U.jsxs)("p",{className:"text-center",children:["Loading Movie ",t,"..."]}):i?Object(U.jsx)(G.a,{to:"/ghibli-viewer/notfound"}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"d-flex align-items-center",children:[Object(U.jsx)(P.b,{to:l,onClick:j,children:Object(U.jsx)(D.b,{style:{maxWidth:"12rem"},children:Object(U.jsx)("img",{src:r.profileImage,alt:r.title})})}),Object(U.jsxs)("div",{className:"py-2 px-2",children:[Object(U.jsx)("p",{className:"font-weight-bold",children:r.title}),Object(U.jsx)("p",{children:r.releaseYear}),Object(U.jsx)("p",{children:r.director}),Object(U.jsx)(P.b,{to:l,children:Object(U.jsx)(D.a,{style:{backgroundColor:"#3AA7A0"},onClick:j,children:"Details"})})]})]}),Object(U.jsx)("hr",{className:"m-0"})]})})},_=Object(Q.a)(D.o)(B||(B=Object(z.a)(["\n  cursor: pointer;\n  @media (min-width: 992px) {\n    padding-right: 2rem;\n  }\n  &:hover {\n    transform: scale(1.2);\n    transition-duration: 0.2s;\n  }\n"]))),ee=function(){var e=Object(n.d)(),t=Object(n.e)(g),c=Object(n.e)(f);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(_,{far:!0,icon:"heart",size:"2x",color:"light",onClick:function(){return e(h())}}),Object(U.jsxs)(Z.a,{show:t,onHide:function(){return e(O())},placement:"end",children:[Object(U.jsx)(Z.a.Header,{style:{backgroundColor:"#3AA7A0"},closeButton:!0,children:Object(U.jsx)(Z.a.Title,{className:"text-white",children:"Favourite Movies"})}),Object(U.jsx)(Z.a.Body,{className:"p-0",children:c.map((function(e){return Object(U.jsx)("div",{children:Object(U.jsx)($,{id:e})},e)}))})]})]})},te=Object(Q.a)(D.s)(I||(I=Object(z.a)(["\n  @media (min-width: 992px) {\n    padding-left: 3rem;\n    padding-right: 1rem;\n  }\n"]))),ce=function(e){var t=Object(r.useState)(!1),c=Object(T.a)(t,2),n=c[0],i=c[1],s=e.children;return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(P.a,{children:[Object(U.jsx)(D.q,{expand:"lg",dark:!0,style:{backgroundColor:"#3AA7A0"},children:Object(U.jsxs)(D.i,{children:[Object(U.jsx)(X,{}),Object(U.jsx)(D.u,{type:"button","aria-expanded":"false","aria-label":"Toggle navigation",onClick:function(){return i(!n)},children:Object(U.jsx)(D.o,{icon:"bars",fas:!0})}),Object(U.jsxs)(D.h,{navbar:!0,show:n,children:[Object(U.jsxs)(D.t,{children:[Object(U.jsx)(te,{children:Object(U.jsx)(H,{})}),Object(U.jsx)(D.s,{children:Object(U.jsx)(J,{})})]}),Object(U.jsx)(E,{}),Object(U.jsx)(ee,{})]})]})}),Object(U.jsx)(D.i,{className:"mx-0 px-0",fluid:!0,children:s})]})})},ne=function(e){return Object(U.jsx)(ce,{children:Object(U.jsx)(e,{})})},re=c(102),ie=Q.a.div(q||(q=Object(z.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 80vh;\n"]))),se=function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(ie,{children:Object(U.jsx)(re.a,{animation:"border",variant:"success"})})})},ae=c(52),je=function(e){var t=e.movie,c=e.className,n=e.children,r=Q.a.div(L||(L=Object(z.a)(["\n    background-image: url(","), linear-gradient(to right, #2e2e2e, #ffffff);\n    min-height: 89vh;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-blend-mode: multiply;\n  "])),t.posterImage);return Object(U.jsx)(r,{className:c,children:n})},le=function(){var e=Object(G.i)().mid,t=k(e),c=t.data,n=t.error,r=t.isLoading;return Object(U.jsx)(U.Fragment,{children:r?Object(U.jsx)(se,{}):n?Object(U.jsx)(G.a,{to:"/ghibli-viewer/notfound"}):Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(D.i,{className:"text-white p-0",fluid:!0,children:Object(U.jsx)(je,{movie:c,children:Object(U.jsx)(D.i,{children:Object(U.jsx)(D.w,{children:Object(U.jsx)(D.g,{children:Object(U.jsx)(D.g,{className:"white-text",children:Object(U.jsxs)(D.g,{className:"py-5",children:[Object(U.jsx)(D.f,{className:"h1-responsive m-5 font-weight-bold",children:c.title}),Object(U.jsxs)(D.w,{children:[Object(U.jsxs)(D.g,{lg:"6",className:"p-0",children:[Object(U.jsx)("p",{className:"mx-5 mb-4",children:c.description}),Object(U.jsxs)(D.w,{className:"mx-5",children:[Object(U.jsx)(D.g,{children:Object(U.jsxs)("p",{children:[Object(U.jsx)("span",{className:"font-weight-bold text-nowrap",children:"Directed By"}),Object(U.jsx)("br",{}),c.director]})}),Object(U.jsx)(D.g,{children:Object(U.jsxs)("p",{children:[Object(U.jsx)("span",{className:"font-weight-bold  text-nowrap",children:"Released Year"}),Object(U.jsx)("br",{}),c.releaseYear]})}),Object(U.jsx)(D.g,{children:Object(U.jsxs)("p",{children:[Object(U.jsx)("span",{className:"font-weight-bold",children:" Runtime "}),Object(U.jsx)("br",{}),c.runningTime]})})]})]}),Object(U.jsx)(D.g,{lg:"6",className:"text-center",children:Object(U.jsx)(ae.a,{videoId:c.trailer.youtubeVideoId,opts:{height:"330",width:"460",playerVars:{autoplay:0}}})})]})]})})})})})})})})})},oe=Object(Q.a)(D.o)(R||(R=Object(z.a)(["\n  cursor: pointer;\n  &:hover {\n    transform: scale(1.2);\n    transition-duration: 0.2s;\n  }\n"]))),de=function(e){var t,c=e.id,r=(null!==(t=Object(n.e)(function(e){return function(t){return o.a.find(t.faveSlice.faves,{id:e})}}(c)))&&void 0!==t?t:{fave:!1}).fave,i=Object(n.d)();return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(oe,{icon:"heart",size:"2x",className:"ms-4",color:r?"danger":"light",onClick:function(){i(x(c))}})})},be=function(e){var t=e.movie,c=t.id,n=t.title,r=t.summary,i=t.profileImage,s=t.rank,a=t.releaseYear,j="/ghibli-viewer/movie/".concat(c);return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("div",{className:"py-3",children:Object(U.jsxs)(D.b,{style:{maxWidth:"16rem"},className:"mx-auto",children:[Object(U.jsx)(P.b,{to:j,children:Object(U.jsxs)(D.v,{rippleColor:"light",rippleTag:"div",className:"bg-image hover-overlay",children:[Object(U.jsx)(D.d,{src:i,alt:n,fluid:!0}),Object(U.jsx)("div",{className:"mask d-flex justify-content-center align-items-center px-4",style:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:Object(U.jsx)("span",{className:"text-white",children:r})})]})}),Object(U.jsx)(D.c,{className:"py-0 text-white",style:{backgroundColor:"#44546b"},children:Object(U.jsx)(D.e,{className:"py-2",style:{whiteSpace:"nowrap"},children:Object(U.jsxs)("span",{className:"d-flex align-items-center",children:[Object(U.jsxs)("span",{className:"me-3",children:[Object(U.jsx)(D.o,{fas:!0,icon:"crown",size:"lg",color:"warning"}),"\xa0",s]}),Object(U.jsxs)("span",{children:[Object(U.jsx)(D.o,{fas:!0,icon:"video",size:"lg",style:{color:"#607D8B"}}),"\xa0",Object(U.jsx)("span",{children:a})]}),Object(U.jsx)("span",{className:"ms-4",children:Object(U.jsx)(de,{id:c})})]})})})]})})})},he=function(){var e,t,c=Object(G.i)(),r=c.keyword,i=c.cid,s=Object(G.h)(),a=C({keyword:r,cid:i}),j=a.data,l=a.error,d=a.isLoading,b=new URLSearchParams(s.search).get("sort"),h=Object(n.d)(),O=Object(n.e)(m);if("newest"===b?(e="releaseYear",t="desc"):"oldest"===b?(e="releaseYear",t="asc"):"rank"===b?(e="rank",t="asc"):(e="id",t="asc"),!d&&!l&&0===O){var x=j.length;h(u(x))}return Object(U.jsx)(U.Fragment,{children:d?Object(U.jsx)(se,{}):l?Object(U.jsx)(G.a,{to:"/ghibli-viewer/notfound"}):Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(D.i,{className:"pt-2",children:Object(U.jsx)(D.w,{children:o.a.orderBy(j,[e],[t]).map((function(e){return Object(U.jsx)(D.g,{lg:"3",md:"6",sm:"6",children:Object(U.jsx)(be,{movie:e})},"col-".concat(e.id))}))})})})})},Oe=c.p+"static/media/not-found.1860ad2e.gif",xe=Q.a.div(Y||(Y=Object(z.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 70vh;\n"]))),ue=Q.a.img(M||(M=Object(z.a)(["\n  width: 18rem;\n"]))),ge=function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(xe,{children:Object(U.jsxs)("div",{className:"text-center",children:[Object(U.jsx)(ue,{src:Oe,alt:"Not Found Animation"}),Object(U.jsx)("h1",{className:"text-center pt-5",children:"Page is not found."})]})})})},me=function(){return Object(U.jsxs)(G.d,{children:[Object(U.jsx)(G.b,{exact:!0,path:"/ghibli-viewer/",children:Object(U.jsx)(he,{})}),Object(U.jsx)(G.b,{path:"/ghibli-viewer/category/:cid",children:Object(U.jsx)(he,{})}),Object(U.jsx)(G.b,{path:"/ghibli-viewer/search/:keyword",children:Object(U.jsx)(he,{})}),Object(U.jsx)(G.b,{path:"/ghibli-viewer/search",children:Object(U.jsx)(G.a,{to:"/ghibli-viewer"})}),Object(U.jsx)(G.b,{path:"/ghibli-viewer/movie/:mid",children:Object(U.jsx)(le,{})}),Object(U.jsx)(G.b,{exact:!0,path:"/ghibli-viewer/notfound",children:Object(U.jsx)(ge,{})}),Object(U.jsx)(G.b,{path:"/ghibli-viewer/",children:Object(U.jsx)(G.a,{to:"/ghibli-viewer/notfound"})})]})},fe=function(){return Object(U.jsx)("div",{className:"App",children:ne(me)})};s.a.render(Object(U.jsx)(n.a,{store:A,children:Object(U.jsx)(fe,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.8103389d.chunk.js.map